{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "token",
  "type": "registry:component",
  "title": "Token",
  "description": "A tooltip-based component for documenting design tokens.",
  "registryDependencies": [
    "@tokenui/tooltip",
    "@tokenui/button"
  ],
  "files": [
    {
      "path": "registry/components/token.tsx",
      "content": "'use client'\n\nimport * as React from 'react'\nimport { Button } from '@/registry/ui/button'\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/registry/ui/tooltip'\n\ntype TokenContextValue = {\n  name: string\n  value: string\n}\n\nconst TokenContext = React.createContext<TokenContextValue | undefined>(undefined)\n\nfunction useTokenContext() {\n  const context = React.useContext(TokenContext)\n  if (context === undefined) {\n    throw new Error('useTokenContext must be used within a TokenProvider')\n  }\n  return context\n}\n\ntype TokenProviderProps = TokenContextValue & {\n  children: React.ReactNode\n}\n\n/**\n * Context provider for token name and value.\n * Use this primitive when building custom token compositions.\n */\nfunction TokenProvider({ name, value, children }: TokenProviderProps) {\n  const contextValue = React.useMemo(() => ({ name, value }), [name, value])\n  return <TokenContext.Provider value={contextValue}>{children}</TokenContext.Provider>\n}\n\n/**\n * Tooltip wrapper with default delay.\n * Use this primitive when building custom token compositions.\n */\nfunction TokenRoot({ ...props }: React.ComponentProps<typeof Tooltip>) {\n  return <Tooltip delayDuration={200} {...props} />\n}\n\ntype TokenNameProps = React.ComponentProps<typeof Button> & {\n  /**\n   * Whether clicking the token name should copy it to the clipboard.\n   * @default true\n   */\n  copyable?: boolean\n}\n\n/**\n * Button trigger that displays the token name and copies it on click.\n * Defaults to displaying the name from context if no children provided.\n * Use this primitive when building custom token compositions.\n */\nfunction TokenName({ children, onClick, copyable = true, ...props }: TokenNameProps) {\n  const { name } = useTokenContext()\n  const [isCopied, setIsCopied] = React.useState(false)\n  const timeoutRef = React.useRef<ReturnType<typeof setTimeout> | null>(null)\n\n  React.useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current)\n      }\n    }\n  }, [])\n\n  const handleClick = React.useCallback(\n    async (event: React.MouseEvent<HTMLButtonElement>) => {\n      onClick?.(event)\n\n      if (!copyable) {\n        return\n      }\n\n      if (typeof navigator === 'undefined' || !navigator.clipboard?.writeText) {\n        return\n      }\n\n      try {\n        await navigator.clipboard.writeText(name)\n        setIsCopied(true)\n\n        timeoutRef.current = setTimeout(() => setIsCopied(false), 2000)\n      } catch (_error) {\n        // Silently fail\n      }\n    },\n    [name, onClick, copyable],\n  )\n\n  return (\n    <TooltipTrigger asChild>\n      <Button\n        variant=\"outline\"\n        onClick={handleClick}\n        aria-label={copyable && isCopied ? `Copied ${name}` : `Copy ${name}`}\n        {...props}\n      >\n        {copyable && isCopied ? 'Copied!' : (children ?? name)}\n      </Button>\n    </TooltipTrigger>\n  )\n}\n\n/**\n * Tooltip content that displays the token value from context.\n * Use this primitive when building custom token compositions.\n */\nfunction TokenValue({ ...props }: React.ComponentProps<typeof TooltipContent>) {\n  const { value } = useTokenContext()\n  return <TooltipContent {...props}>{value}</TooltipContent>\n}\n\ntype TokenProps = {\n  name: string\n  value: string\n} & React.ComponentProps<typeof Tooltip>\n\n/**\n * Mid-level token composition.\n * Combines TokenProvider, TokenRoot, and TokenValue.\n * Accepts custom children as the tooltip trigger.\n */\nfunction Token({ name, value, children, ...props }: TokenProps) {\n  return (\n    <TokenProvider name={name} value={value}>\n      <TokenRoot {...props}>\n        {children}\n        <TokenValue />\n      </TokenRoot>\n    </TokenProvider>\n  )\n}\n\n/**\n * Pre-composed token component for common use cases.\n * Displays token name as a button with copy functionality and value tooltip.\n * This is the default export and recommended for most use cases.\n */\nfunction BasicToken({ name, value, copyable, ...props }: TokenProps & { copyable?: boolean }) {\n  return (\n    <Token name={name} value={value} {...props}>\n      <TokenName copyable={copyable} />\n    </Token>\n  )\n}\n\nexport {\n  Token,\n  BasicToken,\n  BasicToken as default,\n  TokenProvider,\n  TokenRoot,\n  TokenName,\n  TokenValue,\n  useTokenContext,\n  type TokenProps,\n}\n",
      "type": "registry:component"
    }
  ]
}